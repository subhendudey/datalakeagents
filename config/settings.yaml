# Clinical Trials Data Lake Configuration

# Data Lake Settings
data_lake:
  base_path: "./data"
  storage_backend: "local"  # local, azure_blob, s3
  auto_create_layers: true
  
  # Storage paths
  paths:
    raw: "raw"
    processed: "processed"
    curated: "curated"
    metadata: "metadata"
    schemas: "schemas"
    logs: "logs"

# Semantic Layer Settings
semantic_layer:
  ontology_path: "./schemas/clinical_ontology.ttl"
  semantic_model_path: "./schemas/semantic_model.json"
  terminology_mappings:
    snomed_ct: "http://snomed.info/sct"
    loinc: "http://loinc.org"
    ctcae: "http://ctep.cancer.gov/protocolDevelopment/electronic_applications/ctc.htm"

# AI Agents Configuration
agents:
  # LLM Configuration
  llm:
    provider: "openai"  # openai, anthropic, local
    model: "gpt-4"
    temperature: 0.1
    max_tokens: 2000
    
  # Agent Settings
  clinical_analyst:
    enabled: true
    confidence_threshold: 0.7
    
  safety_monitor:
    enabled: true
    alert_threshold: 0.8
    
  statistical_analyzer:
    enabled: true
    significance_level: 0.05
    
  quality_assessor:
    enabled: true
    quality_threshold: 0.8

# Data Processing Settings
processing:
  # CDISC Standards
  cdisc:
    enabled: true
    version: "3.3"
    validate_compliance: true
    
  # Data Quality
  quality:
    completeness_threshold: 0.9
    accuracy_threshold: 0.95
    consistency_threshold: 0.9
    
  # Performance
  batch_size: 1000
  max_workers: 4
  timeout_seconds: 300

# Security Settings
security:
  encryption:
    enabled: false
    algorithm: "AES-256"
    
  access_control:
    enabled: false
    default_role: "analyst"
    
  audit:
    enabled: true
    log_level: "INFO"

# Monitoring Settings
monitoring:
  metrics:
    enabled: true
    collection_interval: 60
    
  alerts:
    email_enabled: false
    webhook_enabled: false
    
  health_checks:
    enabled: true
    interval: 300

# Integration Settings
integrations:
  # Database
  database:
    type: "sqlite"  # sqlite, postgresql, mysql
    connection_string: "sqlite:///data/datalake.db"
    
  # External APIs
  terminology_services:
    snomed_ct:
      endpoint: "https://browser.ihtsdotools.org/snowstorm/snomed-ct"
      api_key: null
      
    loinc:
      endpoint: "https://fhir.loinc.org/CodeSystem/loinc"
      api_key: null

# Development Settings
development:
  debug: false
  testing: false
  mock_data: true
  
# Logging Configuration
logging:
  level: "INFO"
  format: "{time:YYYY-MM-DD HH:mm:ss} | {level} | {name}:{function}:{line} | {message}"
  rotation: "1 day"
  retention: "30 days"
